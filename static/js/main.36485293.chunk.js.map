{"version":3,"sources":["constants/routes.js","reducer.js","context/state.js","components/header.js","components/search.js","apiKey.js","components/imageCard.js","utils/layout.js","pages/home.js","pages/favorites.js","App.js","index.js"],"names":["FAVORITES","localData","localStorage","getItem","state","recentSearch","favorites","JSON","parse","currentPage","theme","setLocalStorage","setItem","stringify","reducer","action","type","payload","includes","index","findIndex","item","id","newFavorites","splice","Context","createContext","Provider","StateContextProvider","Consumer","children","value","useReducer","StateContext","useContext","Header","dispatch","document","body","style","background","className","undefined","exact","to","ROUTES","onClick","Search","focusRef","useRef","useState","input","setInput","setCurrentPage","disabled","setDisabled","fullUrl","prevPage","nextPage","searchImages","a","fetch","response","json","data","hits","console","error","useEffect","length","ref","onChange","event","target","name","placeholder","htmlFor","visibility","currentpage","ImageCard","isFavoritedID","image","i","addToFavorite","RemoveFavorite","find","onDoubleClick","src","webformatURL","alt","Home","map","Favorites","App","path","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.36485293.chunk.js","sourcesContent":["export const HOME = '/'\nexport const IMAGE = '/image'\nexport const FAVORITES = '/favorites'","\nconst localData = localStorage.getItem('favorited')\n// JSON.parse(localData) ||\nexport const state = {\n  recentSearch: [],\n  favorites:  JSON.parse(localData) || [],\n  currentPage: 1,\n  theme: false\n}\n// console.log(localData, \"Local Data\")\n\nexport const setLocalStorage = (state) => {\n  localStorage.setItem(\n    'favorited', JSON.stringify(\n      state.favorites\n    ))\n}\n\nexport default function reducer(state, action) {\n  switch (action.type) {\n    case 'STORE_SEARCH':\n      return {\n        ...state,\n        recentSearch: action.payload\n      }\n    case 'ADD_TO_FAVORITE':\n      if (!state.favorites.includes(action.payload)) {\n        return  state = {\n          ...state,\n          favorites: [\n            action.payload,\n            ...state.favorites\n          ]\n        }\n      }\n      return state = {\n        ...state,\n        favorites: state.favorites\n      }\n    case 'REMOVE_ADD_FAVORITE':\n      const index = state.favorites.findIndex(item => item.id === action.payload)\n      const newFavorites = [...state.favorites]\n      index >= 0 && newFavorites.splice(index, 1)\n      return state = {\n        ...state,\n        favorites: newFavorites\n      }\n    case 'SET_THEME':\n      return {\n        ...state,\n        theme: !state.theme\n      }\n    default:\n      return state\n  }\n}","import React, {createContext, useContext, useReducer} from 'react';\nimport reducer, { state } from '../reducer'\n\nconst Context = createContext()\nconst {Provider, Consumer} = Context\n\n\nconst StateContextProvider = ({children}) => {\n\n  return (\n    <Provider value={useReducer(reducer, state)}>\n      {children}\n    </Provider>\n  )\n}\n\nconst StateContext = () => useContext(Context)\nexport {StateContextProvider, StateContext, Consumer as StateContextConsumer }","import React from 'react';\nimport './css/header.css'\nimport { NavLink } from 'react-router-dom'\nimport * as ROUTES from '../constants/routes'\nimport { CgDarkMode } from 'react-icons/cg'\nimport { StateContext } from '../context/state'\n\n\nexport default function Header() {\n  const [state, dispatch] = StateContext()\n  const { theme } = state\n  \n  const handleThemeChange = () => {\n    dispatch({\n      type: 'SET_THEME'\n    })\n  }\n\n  document.body.style.background = theme ? \"rgb(80,80,80)\" : \"\"\n\n  return (\n    <header className={theme ? 'dark': undefined}>\n      <NavLink exact={true} className=\"logo\" to={ROUTES.HOME}>Pixa Search</NavLink>\n      <ul>\n        <li>\n          <NavLink to={ROUTES.FAVORITES}>Favorites</NavLink>\n        </li>\n        <li>\n          <CgDarkMode onClick={handleThemeChange} />\n        </li>\n      </ul>\n    </header>\n  )\n}","import React, {useState, useRef, useEffect, useCallback} from 'react';\nimport './css/search.css'\nimport {ImSearch} from 'react-icons/im'\nimport {IoMdArrowDropright, IoMdArrowDropleft} from 'react-icons/io'\nimport { apiKey as keyApi } from '../apiKey'\nimport { StateContext } from '../context/state'\n\nexport default function Search() {\n  \n\n  let focusRef = useRef(null)\n\n  const [input, setInput] = useState('')\n  const [state, dispatch] = StateContext()\n  const [currentPage, setCurrentPage] = useState(1)\n  const [disabled, setDisabled] = useState(true)\n \n  const baseUrl = 'https://pixabay.com/api/'\n  const apiKey = keyApi\n  const fullUrl = `${baseUrl}${apiKey}&q=${input}&image_type=photo&per_page=18`\n\n\n  const prevPage = () => {\n    setCurrentPage(currentPage => currentPage - 1)\n  }\n  \n  const nextPage = () => {\n    setCurrentPage(currentPage => currentPage + 1)\n  }\n\n  const searchImages = async () => {\n    try {\n      const response = await fetch(`${fullUrl}&page=${currentPage}`)\n      const data = await response.json()\n      dispatch({\n        type: 'STORE_SEARCH',\n        payload: data.hits\n      })\n      \n    } catch (error) {\n      console.error(error)\n    }\n  }\n\n  useEffect(() => {\n    searchImages()\n    currentPage === 1 ? setDisabled(true) : setDisabled(false)\n  },[prevPage, nextPage])\n\n  useEffect(() => {\n    setCurrentPage(1)\n  }, [input.length])\n\n  return (\n    <div className=\"search\">\n      <form className=\"search__container form\">\n        <div className=\"search__bar\">\n          <input\n            ref={focusRef}\n            className=\"search__input\"\n            onChange={event => setInput(event.target.value)} \n            value={input}\n            type=\"text\" \n            name=\"query\"\n            placeholder=\" \" \n          />\n        <label htmlFor=\"query\" className={`search__label ${state.theme && \"darkText\"}`}>Search</label>\n        <button disabled={true} className=\"search__button\">\n          <ImSearch className={state.theme && \"darkText\"}/>\n        </button>\n        </div>\n      </form>\n      <div className=\"search__pagination\" style={{visibility: !state.recentSearch.length < 1 && !input.length <= 2 ? \"visible\": \"hidden\" }}>\n        <button className=\"search__direction\" onClick={prevPage} disabled={disabled}><IoMdArrowDropleft/></button>\n        <button className=\"search__direction\" onClick={nextPage} currentpage=\"3 Page\"><IoMdArrowDropright/></button>\n      </div>\n    </div>\n  )\n}","export const apiKey = '?key=19628942-91d596e83aac1ff8a523f4e9e'","import React, { useState, useEffect } from 'react';\nimport { StateContext } from '../context/state'\nimport { setLocalStorage } from '../reducer'\n\nimport {getClass} from '../utils/layout'\nimport {AiOutlineHeart, AiFillHeart} from 'react-icons/ai'\n\n\nexport default function ImageCard({image, index}) {\n  const [hover, setHover] = useState(false)\n  const [state, dispatch] = StateContext()\n  \n  let isFavoritedID\n  \n  useEffect(()=> {\n    setLocalStorage(state)\n  },[state])\n\n  const addToFavorite = () => {\n    dispatch({\n      type: 'ADD_TO_FAVORITE',\n      payload: image\n    })\n  }\n\n  const RemoveFavorite = () => {\n    dispatch({\n      type: 'REMOVE_ADD_FAVORITE',\n      payload: image.id\n    })\n  }\n\n  if (state.favorites.length >= 1) {\n    isFavoritedID = state.favorites.find(item => item.id === image.id && item.id)\n  }\n\n  return (\n    <div onDoubleClick={image.id ===  isFavoritedID?.id ? RemoveFavorite : addToFavorite} className={`image-card ${getClass(index)}`}>\n      <img src={image.webformatURL} alt=\"\"/>\n      <div className=\"image__info\">\n      {image.id ===  isFavoritedID?.id ? <AiFillHeart onClick={RemoveFavorite} /> : <AiOutlineHeart onClick={addToFavorite} /> }\n      </div>\n    </div>\n  )\n}","export function getClass(i) {\n  if (i === 0 || i === 11) {\n      return 'big';\n  } else {\n    return ''\n  }\n}","import React from 'react';\nimport { StateContext } from '../context/state'\n\nimport {\n  Search,\n  ImageCard\n} from '../components'\n\nexport default function Home() {\n  const [{recentSearch, theme}] = StateContext()\n  \n  return (\n    <div className=\"container\">\n      <h1 className={`title ${theme && \"text\"}  `}>Pixa Search</h1>\n      <p className={theme && \"text\"}>Images provided by www.pixabay.com</p>\n      <Search />\n      <div className=\"image-container\">\n        {recentSearch.map((image, i) => (\n          <ImageCard key={image.id} image={image} index={i} />\n        ))}\n      </div>\n      <p className={theme && \"text\"}>{recentSearch.length === 0 && \"Typing will auto populate results\"}</p>\n    </div>\n  )\n}","import React, { useEffect } from 'react';\nimport {StateContext} from '../context/state'\nimport { setLocalStorage } from '../reducer'\n\nexport default function Favorites() {\n  const [state, dispatch] = StateContext()\n\n\n  useEffect(()=> {\n    setLocalStorage(state)\n  },[state])\n\n\n  const removeFavorite = (id) => {\n    dispatch({\n      type: 'REMOVE_ADD_FAVORITE',\n      payload: id\n    })\n  }\n\n  return (\n    <div className=\"container\">\n      <h1 className={`favorites__title ${state.theme && \"text\"} `}>Your Favorited Images</h1>\n      <div className=\"favorites__list\">\n      {state.favorites.length !== 0 ? state.favorites.map(image => (\n        <div key={image.id} className=\"favorites__item\">\n          <img className=\"favorites__image\" src={image.webformatURL} alt={image} />\n          <button className=\"favorites__removeBtn\" onClick={() => removeFavorite(image.id)}>Remove</button>\n        </div>\n      )) : <h1>No Favorites have been added</h1>}\n      </div>\n    </div>\n  )\n}","import './App.css';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom'\nimport * as ROUTES from './constants/routes'\nimport { Header } from './components'\n\nimport { \n  Home, \n  Favorites \n} from './pages'\n\nfunction App() {\n  return (\n    <Router>\n      <Header />\n      <Switch>\n        <Route path={ROUTES.FAVORITES}>\n          <Favorites/>\n        </Route>\n        <Route exact path={ROUTES.HOME}>\n          <Home />\n        </Route>\n        <Route>\n          <Home />\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { StateContextProvider } from './context/state'\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <StateContextProvider>\n      <App />\n    </StateContextProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}