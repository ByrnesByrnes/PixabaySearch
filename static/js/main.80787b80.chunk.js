(this.webpackJsonppixasearch=this.webpackJsonppixasearch||[]).push([[0],{33:function(e,t,c){},34:function(e,t,c){},41:function(e,t,c){},42:function(e,t,c){"use strict";c.r(t);var a=c(2),n=c(1),r=c.n(n),s=c(23),i=c.n(s),o=(c(33),c(14)),j=c(3),l="/favorites",b=c(5),d=(c(34),c(25)),u=c(21),O=c(9),h=localStorage.getItem("favorited"),f={recentSearch:[],favorites:JSON.parse(h)||[],currentPage:1,theme:!1},x=function(e){localStorage.setItem("favorited",JSON.stringify(e.favorites))};function v(e,t){switch(t.type){case"STORE_SEARCH":return Object(O.a)(Object(O.a)({},e),{},{recentSearch:t.payload});case"ADD_TO_FAVORITE":return e.favorites.includes(t.payload)?Object(O.a)(Object(O.a)({},e),{},{favorites:e.favorites}):Object(O.a)(Object(O.a)({},e),{},{favorites:[t.payload].concat(Object(u.a)(e.favorites))});case"REMOVE_ADD_FAVORITE":var c=e.favorites.findIndex((function(e){return e.id===t.payload})),a=Object(u.a)(e.favorites);return c>=0&&a.splice(c,1),Object(O.a)(Object(O.a)({},e),{},{favorites:a});case"SET_THEME":return Object(O.a)(Object(O.a)({},e),{},{theme:!e.theme});default:return e}}var m=Object(n.createContext)(),p=m.Provider,_=(m.Consumer,function(e){var t=e.children;return Object(a.jsx)(p,{value:Object(n.useReducer)(v,f),children:t})}),g=function(){return Object(n.useContext)(m)};function y(){var e=g(),t=Object(b.a)(e,2),c=t[0],n=t[1],r=c.theme;return document.body.style.background=r?"rgb(80,80,80)":"",Object(a.jsxs)("header",{className:r?"dark":void 0,children:[Object(a.jsx)(o.b,{exact:!0,className:"logo",to:"/",children:"Pixa Search"}),Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:Object(a.jsx)(o.b,{to:l,children:"Favorites"})}),Object(a.jsx)("li",{children:Object(a.jsx)(d.a,{onClick:function(){n({type:"SET_THEME"})}})})]})]})}var N=c(20),E=c.n(N),S=c(26),R=(c(41),c(27)),k=c(11);function T(){var e=Object(n.useRef)(null),t=Object(n.useState)(""),c=Object(b.a)(t,2),r=c[0],s=c[1],i=g(),o=Object(b.a)(i,2),j=o[0],l=o[1],d=Object(n.useState)(1),u=Object(b.a)(d,2),O=u[0],h=u[1],f=Object(n.useState)(!0),x=Object(b.a)(f,2),v=x[0],m=x[1],p="".concat("https://pixabay.com/api/").concat("?key=19628942-91d596e83aac1ff8a523f4e9e","&q=").concat(r,"&image_type=photo&per_page=18"),_=function(){var e=Object(S.a)(E.a.mark((function e(){var t,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(p,"&page=").concat(O));case 3:return t=e.sent,e.next=6,t.json();case 6:c=e.sent,l({type:"STORE_SEARCH",payload:c.hits}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){r.length<=2?h(1):_(),m(1===O)}),[O,r.length]),Object(a.jsxs)("div",{className:"search",children:[Object(a.jsx)("form",{className:"search__container form",children:Object(a.jsxs)("div",{className:"search__bar",children:[Object(a.jsx)("input",{ref:e,className:"search__input",onChange:function(e){return s(e.target.value)},value:r,type:"text",name:"query",placeholder:" "}),Object(a.jsx)("label",{htmlFor:"query",className:"search__label ".concat(j.theme&&"darkText"),children:"Search"}),Object(a.jsx)("button",{disabled:!0,className:"search__button",children:Object(a.jsx)(R.a,{className:j.theme&&"darkText"})})]})}),Object(a.jsxs)("div",{className:"search__pagination",style:{visibility:!j.recentSearch.length<1&&!r.length<=2?"visible":"hidden"},children:[Object(a.jsx)("button",{className:"search__direction",onClick:function(){h((function(e){return e-1})),_()},disabled:v,children:Object(a.jsx)(k.b,{})}),Object(a.jsx)("button",{className:"search__direction",onClick:function(){h((function(e){return e+1})),_()},currentpage:"3 Page",children:Object(a.jsx)(k.c,{})})]})]})}function C(e){if(0===e||11===e)return"big"}function A(e){var t,c,r,s=e.image,i=e.index,o=Object(n.useState)(!1),j=Object(b.a)(o,2),l=(j[0],j[1],g()),d=Object(b.a)(l,2),u=d[0],O=d[1];Object(n.useEffect)((function(){x(u)}),[u]);var h=function(){O({type:"ADD_TO_FAVORITE",payload:s})},f=function(){O({type:"REMOVE_ADD_FAVORITE",payload:s.id})};return u.favorites.length>=1&&(r=u.favorites.find((function(e){return e.id===s.id&&e.id}))),Object(a.jsxs)("div",{onDoubleClick:s.id===(null===(t=r)||void 0===t?void 0:t.id)?f:h,className:"image-card ".concat(C(i)),children:[Object(a.jsx)("img",{src:s.webformatURL,alt:""}),Object(a.jsx)("div",{className:"image__info",children:s.id===(null===(c=r)||void 0===c?void 0:c.id)?Object(a.jsx)(k.a,{onClick:f}):Object(a.jsx)(k.d,{onClick:h})})]})}function w(){var e=g(),t=Object(b.a)(e,1)[0],c=t.recentSearch,n=t.theme;return Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("h1",{className:"title ".concat(n&&"text","  "),children:"Pixa Search"}),Object(a.jsx)("p",{className:n&&"text",children:"Images provided by www.pixabay.com"}),Object(a.jsx)(T,{}),Object(a.jsx)("div",{className:"image-container",children:c.map((function(e,t){return Object(a.jsx)(A,{image:e,index:t},e.id)}))}),Object(a.jsx)("p",{className:n&&"text",children:0===c.length&&"Typing will auto populate results"})]})}function D(){var e=g(),t=Object(b.a)(e,2),c=t[0],r=t[1];Object(n.useEffect)((function(){x(c)}),[c]);return Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("h1",{className:"favorites__title ".concat(c.theme&&"text"," "),children:"Your Favorited Images"}),Object(a.jsx)("div",{className:"favorites__list",children:0!==c.favorites.length?c.favorites.map((function(e){return Object(a.jsxs)("div",{className:"favorites__item",children:[Object(a.jsx)("img",{className:"favorites__image",src:e.webformatURL,alt:e}),Object(a.jsx)("button",{className:"favorites__removeBtn",onClick:function(){return t=e.id,void r({type:"REMOVE_ADD_FAVORITE",payload:t});var t},children:"Remove"})]},e.id)})):Object(a.jsx)("h1",{children:"No Favorites have been added"})})]})}var I=function(){return Object(a.jsxs)(o.a,{children:[Object(a.jsx)(y,{}),Object(a.jsxs)(j.c,{children:[Object(a.jsx)(j.a,{path:l,children:Object(a.jsx)(D,{})}),Object(a.jsx)(j.a,{exact:!0,path:"/",children:Object(a.jsx)(w,{})}),Object(a.jsx)(j.a,{children:Object(a.jsx)(w,{})})]})]})};i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(_,{children:Object(a.jsx)(I,{})})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.80787b80.chunk.js.map